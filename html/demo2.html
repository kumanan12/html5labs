<!DOCTYPE html>
<html>
  <head>
    <title>code-in-js</title>
    <link rel="stylesheet" href="/css/blog.css">
  </head>

  <body>
    <header>
      <h1>Code in JavaScript</h1>
    </header>
    <main>
      <article>
        <h2>Angular v16 is here!</h2>
        <p>Six months ago, we reached a significant milestone in Angular’s simplicity and developer experience by graduating the standalone APIs from developer preview. Today, we’re thrilled to share that we’re continuing the Angular Momentum with the biggest release since the initial rollout of Angular; making large leaps in reactivity, server-side rendering, and tooling. All this comes with dozens of quality-of-life improvements across feature requests, with over 2,500 combined thumbs up on GitHub!</p>
      </article>
      <article>
        <h2>Write better tests without Router mocks/stubs</h2>
        <p>Conventional wisdom might suggest that test authors should stub external dependencies like ActivatedRoute or RouterLink and spy on services and service methods like navigateByUrl. A defense for this testing strategy might be

          “Relying on the real router would make them brittle. They could fail for reasons unrelated to the component.”
          
          This isn’t entirely true, but for now we will point out one very important detail in this defense that’s often ignored. Per the documentation:
          
          “A different battery of tests can explore whether the application navigates as expected in the presence of conditions that influence guards such as whether the user is authenticated and authorized.”
          
          It’s important that there still exists a suite of tests that do cover the resulting behavior of executing the real code of the dependency. Unfortunately, this is most often not done. It creates a burden on developers to maintain additional suites of tests when the unit tests being written with mocks could easily cover these behaviors as well. APIs change over time, so writing and maintaining a complete set of mocks and stubs for all the dependencies is often much more difficult and brittle than just using the real ones.</p>
      </article>
      <article>
        <h2>Boilerplate to test with real Router instances</h2>
        <p>Testing components and services that depend on the Angular Router can be difficult. For example, a component might inject ActivatedRoute and only use it to access the Observable for queryParams. Getting the Router to create a real instance of ActivatedRoute for the test would require quite a bit of boilerplate. For example:

          Write a Route for the component under test ( {path: ‘**', component: MyComponent} )
          Add the Router to TestBed ( TestBed.configureTestingModule)
          Create a wrapper component with a router-outlet to render the component
          Create the test ComponentFixture for the wrapper component instead of MyComponent
          Tell the Router to navigate to the Route with the MyComponent
          Use the wrapper ComponentFixture to query for MyComponent
          It’s not until step 6 that you finally have your component you can use to do test assertions. With all of this complicated boilerplate, it makes sense that test authors might want to create a shortcut and share a test stub for ActivatedRoute and override the injectable in TestBed.</p>
      </article>
    </main>
    <footer>
      <p>Copyright: All Rights reserved</p>
    </footer>
  </body>
</html>
